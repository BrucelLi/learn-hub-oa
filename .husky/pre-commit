#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

set -e

echo "üëâ pre-commit: lint + type-check start"

if ! command -v pnpm >/dev/null 2>&1; then
  echo "‚ùå pnpm not found. Please install pnpm first."
  exit 1
fi

if [ ! -d "node_modules" ]; then
  echo "‚ö†Ô∏è  node_modules not found. Run 'pnpm install' before committing."
  exit 1
fi

pnpm run lint:ci
pnpm run type-check

echo "‚úÖ pre-commit: success"
